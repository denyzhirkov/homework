{
  "name": "Demo Pipeline",
  "description": "Demonstrates all HomeworkCI features: parallel execution, named steps, variables, step results, and input parameters.",
  "tags": ["built-in"],
  "inputs": [
    { "name": "userId", "type": "select", "label": "User ID to fetch", "options": ["1", "2", "3", "5", "10"], "default": "1" },
    { "name": "delayMs", "type": "string", "label": "Delay (ms)", "default": "1000" },
    { "name": "verbose", "type": "boolean", "label": "Verbose output", "default": false }
  ],
  "steps": [
    {
      "name": "start",
      "description": "Log pipeline start with inputs",
      "module": "shell",
      "params": {
        "cmd": "echo 'ðŸš€ Starting demo pipeline...' && echo 'User ID: ${inputs.userId}, Delay: ${inputs.delayMs}ms, Verbose: ${inputs.verbose}'"
      }
    },
    {
      "name": "api1",
      "description": "Fetch users data (using input userId)",
      "module": "http",
      "params": {
        "url": "https://jsonplaceholder.typicode.com/users/${inputs.userId}"
      },
      "parallel": "fetch"
    },
    {
      "name": "api2",
      "description": "Fetch posts data",
      "module": "http",
      "params": {
        "url": "https://jsonplaceholder.typicode.com/posts/${inputs.userId}"
      },
      "parallel": "fetch"
    },
    {
      "name": "api3",
      "description": "Fetch comments data",
      "module": "http",
      "params": {
        "url": "https://jsonplaceholder.typicode.com/comments/${inputs.userId}"
      },
      "parallel": "fetch"
    },
    {
      "description": "Process fetched data using ${results.name}",
      "module": "shell",
      "params": {
        "cmd": "echo 'User: ${results.api1.name}' && echo 'Post title: ${results.api2.title}' && echo 'Comment by: ${results.api3.email}'"
      }
    },
    {
      "name": "delay_demo",
      "description": "Demonstrate delay module (using input delayMs)",
      "module": "delay",
      "params": {
        "ms": "${inputs.delayMs}"
      }
    },
    {
      "description": "Use ${prev} to access previous step result",
      "module": "shell",
      "params": {
        "cmd": "echo 'Delay result: ${prev}'"
      }
    },
    {
      "description": "Final step - pipeline complete",
      "module": "shell",
      "params": {
        "cmd": "echo 'âœ… Demo pipeline completed successfully!'"
      }
    }
  ]
}

